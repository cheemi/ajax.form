(function(A,B,E){var C=(function(){var N,V,Z={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},O,X=function(F){throw {name:"SyntaxError",message:F,at:N,text:O}},R=function(F){if(F&&F!==V){X("Expected '"+F+"' instead of '"+V+"'")}V=O.charAt(N);N+=1;return V},U=function(){var G,F="";if(V==="-"){F="-";R("-")}while(V>="0"&&V<="9"){F+=V;R()}if(V==="."){F+=".";while(R()&&V>="0"&&V<="9"){F+=V}}if(V==="e"||V==="E"){F+=V;R();if(V==="-"||V==="+"){F+=V;R()}while(V>="0"&&V<="9"){F+=V;R()}}G=+F;if(!isFinite(G)){X("Bad number")}else{return G}},W=function(){var H,G,F="",I;if(V==='"'){while(R()){if(V==='"'){R();return F}if(V==="\\"){R();if(V==="u"){I=0;for(G=0;G<4;G+=1){H=parseInt(R(),16);if(!isFinite(H)){break}I=I*16+H}F+=String.fromCharCode(I)}else{if(typeof Z[V]==="string"){F+=Z[V]}else{break}}}else{F+=V}}}X("Bad string")},Q=function(){while(V&&V<=" "){R()}},Y=function(){switch(V){case"t":R("t");R("r");R("u");R("e");return true;case"f":R("f");R("a");R("l");R("s");R("e");return false;case"n":R("n");R("u");R("l");R("l");return null}X("Unexpected '"+V+"'")},T,S=function(){var F=[];if(V==="["){R("[");Q();if(V==="]"){R("]");return F}while(V){F.push(T());Q();if(V==="]"){R("]");return F}R(",");Q()}}X("Bad array")},P=function(){var F,G={};if(V==="{"){R("{");Q();if(V==="}"){R("}");return G}while(V){F=W();Q();R(":");if(Object.hasOwnProperty.call(G,F)){X('Duplicate key "'+F+'"')}G[F]=T();Q();if(V==="}"){R("}");return G}R(",");Q()}}X("Bad object")};T=function(){Q();switch(V){case"{":return P();case"[":return S();case'"':return W();case"-":return U();default:return V>="0"&&V<="9"?U():Y()}};return function(G,I){var H;O=G;N=0;V=" ";H=T();Q();if(V){X("Syntax error")}return typeof I==="function"?(function F(a,K){var L,M,J=a[K];if(J&&typeof J==="object"){for(L in J){if(Object.prototype.hasOwnProperty.call(J,L)){M=F(J,L);if(M!==E){J[L]=M}else{delete J[L]}}}}return I.call(a,K,J)}({"":H},"")):H}}());var D=function(F){var I=new D.createXHR();var G={method:"get",url:"",par:"",async:true,contentType:"application/x-www-form-urlencoded",formElement:null,onLoading:null,onComplete:null,onSuccess:null,onError:null};for(var H in F){G[H]=F[H]}if(G.formElement!=null){if(typeof G.method=="undefined"){if(G.formElement.getAttribute("method")){G.method=G.formElement.getAttribute("method")}}if(typeof G.url=="undefined"||G.url.length<1){if(G.formElement.getAttribute("action")){G.url=G.formElement.getAttribute("action")}}G.par=D.getFormString(G.formElement)}else{G.par=encodeURI(G.par)}G.url+=(G.url.indexOf("?")>-1?"&":"?")+"now="+new Date().getTime();if(G.method=="get"){if(G.par!=""){G.url+="&"+G.par}}I.open(G.method,G.url,G.async);I.onreadystatechange=function(){if(I.readyState==1){if(G.onLoading){G.onLoading(I)}}if(I.readyState==4){if(G.onComplete){G.onComplete(I)}if((I.status>=200&&I.status<300)||I.status==304){if(G.onSuccess){if(G.contentType.toLowerCase()=="json"){myData=C(I.responseText,function(J,K){var L;if(typeof K==="string"){L=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(K);if(L){return new Date(Date.UTC(+L[1],+L[2]-1,+L[3],+L[4],+L[5],+L[6]))}}return K});G.onSuccess(myData,I)}else{G.onSuccess(I.responseText,I)}}}else{if(G.onError){G.onError(I)}}}};if(I.method=="get"){I.send(null)}else{I.setRequestHeader("Content-Type",G.contentType);I.setRequestHeader("X-Requested-With","XMLHttpRequest");I.send(G.par)}};D.createXHR=function(){if(typeof XMLHttpRequest!="undefined"){D.createXHR=function(){return new XMLHttpRequest()}}else{if(typeof ActiveXObject!="undefined"){var H=[function(){return new ActiveXObject("MSXML2.XmlHttp.6.0")},function(){return new ActiveXObject("MSXML2.XmlHttp.3.0")},function(){return new ActiveXObject("MSXML2.XmlHttp")}];for(var F=0;F<H.length;F++){try{D.createXHR=new H[F]();break}catch(G){}}}else{D.createXHR=function(){throw new Error("No XHR object available.")}}}return new D.createXHR()};D.getFormString=function(K){var J="",I="";var F;var H;for(var G=0;G<K.length;G++){F=K[G];if(F.name!=""){if(F.type=="select-one"){H=F.options[F.selectedIndex].value}else{if(F.type=="checkbox"||F.type=="radio"){if(F.checked==false){continue}H=F.value}else{if(F.type=="button"||F.type=="submit"||F.type=="reset"||F.type=="image"){continue}else{H=F.value}}}H=encodeURIComponent(H);J+=I+F.name+"="+H;I="&"}}return J};A["ajax"]=D})(window,document);